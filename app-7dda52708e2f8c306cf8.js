!function(e){function t(t){for(var r,l,a=t[0],o=t[1],i=t[2],h=0,d=[];h<a.length;h++)l=a[h],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(u&&u(t);d.length;)d.shift()();return c.push.apply(c,i||[]),s()}function s(){for(var e,t=0;t<c.length;t++){for(var s=c[t],r=!0,a=1;a<s.length;a++){var o=s[a];0!==n[o]&&(r=!1)}r&&(c.splice(t--,1),e=l(l.s=s[0]))}return e}var r={},n={0:0},c=[];function l(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.m=e,l.c=r,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(s,r,function(t){return e[t]}.bind(null,r));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var a=window.webpackJsonp=window.webpackJsonp||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var i=0;i<a.length;i++)t(a[i]);var u=o;c.push([21,1]),s()}({0:function(e,t){e.exports=React},17:function(e,t){e.exports=ReactDOM},21:function(e,t,s){s(22),e.exports=s(23)},22:function(e,t,s){},23:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s(17),c=s(18);const l=["light","dark",null];const a=new class o extends class e{constructor(e,t){this.subscriptions=new Map;const s=window.localStorage.getItem(e);s&&(t=JSON.parse(s).value),this.name=e,this.store=Object(c.a)(this.reducer.bind(this),{value:t})}reducer(e,t){if("CHANGE"===t.type&&t.value!==e.value){const e={value:t.value};return window.localStorage.setItem(this.name,JSON.stringify(e)),e}return e}on(e){this.subscriptions.set(e,this.store.subscribe(()=>e(this.get())))}off(e){const t=this.subscriptions.get(e);t&&t()}get(){return this.store.getState().value}set(e){this.store.dispatch({type:"CHANGE",value:e})}}{constructor(){super("theme",null)}getClass(){const e=this.get();return e||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}toggle(){const e=(l.indexOf(this.get())+1)%l.length;this.set(l[e])}};var i=s(25);class u{constructor(){this.currentResult=null}}class h extends u{roll(){return this.currentResult=this.possibleResults[Math.floor(Math.random()*this.possibleResults.length)],this.currentResult}}class AbilityDie extends h{constructor(){super(...arguments),this.possibleResults=[[],["s"],["s"],["s","s"],["a"],["a"],["s","a"],["a","a"]]}}class ProficiencyDie extends h{constructor(){super(...arguments),this.possibleResults=[[],["s"],["s"],["s","s"],["s","s"],["a"],["s","a"],["s","a"],["s","a"],["a","a"],["a","a"],["t"]]}}class BoostDie extends h{constructor(){super(...arguments),this.possibleResults=[[],[],["s"],["s","a"],["a","a"],["a"]]}}class DifficultyDie extends h{constructor(){super(...arguments),this.possibleResults=[[],["f"],["f","f"],["h"],["h"],["h"],["h","h"],["f","h"]]}}class ChallengeDie extends h{constructor(){super(...arguments),this.possibleResults=[[],["f"],["f"],["f","f"],["f","f"],["h"],["h"],["f","h"],["f","h"],["h","h"],["h","h"],["d"]]}}class SetbackDie extends h{constructor(){super(...arguments),this.possibleResults=[[],[],["f"],["f"],["h"],["h"]]}}var d=s(1);var p=({symbol:e})=>r.createElement("span",{className:"dice-symbol"},Object(d.a)(e)?e.join(""):e);var m=({die:e})=>{return r.createElement("div",{className:Object(i.a)(e.constructor.name).toLowerCase()},null===(t=e.currentResult)?[r.createElement("span",null,"?")]:"number"==typeof t?[r.createElement("span",null,t+"")]:t.map((e,t)=>r.createElement(p,{symbol:e,key:t})));var t};const f=[{cls:AbilityDie,result:["s"]},{cls:ProficiencyDie,result:["t"]},{cls:BoostDie,result:["a"]},{cls:DifficultyDie,result:["f"]},{cls:ChallengeDie,result:["d"]},{cls:SetbackDie,result:["h"]},{cls:class PercentileDie extends u{roll(){return this.currentResult=Math.ceil(100*Math.random()),this.currentResult}},result:42}];var b=({callback:e})=>{const t=f.map(({cls:t,result:s},n)=>{const c=Object(i.a)(t.name).split(" ")[0].toLowerCase();return r.createElement("button",{type:"button",id:"add-"+c,key:n,onClick:()=>e(new t)},r.createElement(m,{die:Object.assign(new t,{currentResult:s})}))});return r.createElement("div",{className:"dice-controls"},t)};var g=({dice:e})=>r.createElement("div",{className:"dice-list"},e.map(e=>r.createElement(m,{die:e}))),v=s(26),y=s(24);const w=Object.freeze({t:0,s:1,a:2,d:3,f:4,h:5});function E(e,t){return w[e]-w[t]}function O(e){return e instanceof ProficiencyDie?0:e instanceof AbilityDie?1:e instanceof BoostDie?2:e instanceof ChallengeDie?3:e instanceof DifficultyDie?4:e instanceof SetbackDie?5:6}function j(e,t){return O(e)-O(t)}var x=({results:e})=>{let t="neutral";const s=[],n=[],c=[];if(e.forEach(e=>{"number"==typeof e?n.push(e):Object(d.a)(e)&&s.push(e)}),s.length){const e=function(e){const t=Object(y.a)(e);delete t.t,delete t.d,t.s=t.f=Math.min(t.s,t.f),t.a=t.h=Math.min(t.a,t.h);const s=[];return e.forEach(e=>{t[e]?t[e]--:s.push(e)}),s}(Object(v.a)(s)).sort(E);t=function(e){const t=Object(y.a)(e),s=(t.t||0)+(t.s||0),r=(t.d||0)+(t.f||0);return console.warn("COUNT: ",t),s-r>0?"success":"failure"}(e),e.length&&c.push(r.createElement("div",{className:"group symbolic "+(e.length>8?"large":"")},e.map(e=>r.createElement(p,{symbol:e}))))}return c.push(...n.map(e=>r.createElement("div",{className:"group numeric"},e))),r.createElement("div",{className:"roll-results "+t},c)};Object.freeze(["ability","proficiency","boost","difficulty","challenge","setback"]);class R extends r.Component{constructor(e){super(e),this.state={dice:[],results:[]},this.addDie=this.addDie.bind(this),this.clearDice=this.clearDice.bind(this),this.roll=this.roll.bind(this)}addDie(e){const{dice:t,results:s}=this.state;this.setState({results:s,dice:t.concat([e]).sort(j)})}clearDice(){this.setState({results:[],dice:[]})}roll(){const{dice:e}=this.state;this.setState({dice:e,results:e.map(e=>e.roll())})}render(){return r.createElement("div",{className:"dice-area"},r.createElement(b,{callback:this.addDie}),r.createElement(g,{dice:this.state.dice}),r.createElement("div",{className:"actions"},r.createElement("button",{id:"roll",onClick:this.roll},"Roll"),r.createElement("button",{id:"clear",onClick:this.clearDice},"Clear")),r.createElement(x,{results:this.state.results}))}}class S extends r.Component{constructor(e){super(e),this.switchTheme=this.switchTheme.bind(this)}switchTheme(){document.body.classList.remove("light","dark"),document.body.classList.add(this.props.themeSettings.getClass())}componentDidMount(){this.props.themeSettings.on(this.switchTheme),this.switchTheme()}componentWillUnmount(){this.props.themeSettings.off(this.switchTheme)}render(){return r.createElement(r.Fragment,null,r.createElement("h1",{onClick:()=>this.props.themeSettings.toggle()},"Genesys Dice Roller"),r.createElement(R,null))}}document.body.classList.remove("no-js"),n.render(r.createElement(S,{themeSettings:a}),document.getElementById("app"))}});